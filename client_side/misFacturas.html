<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <script type="text/javascript" src="angular.min.js"></script>
    <script type="text/javascript">
      var app = angular.module('myApp',[]);
      app.controller('controladorFactura',function($scope) {
        $scope.listaFacturas = [{"id": 1, "concepto" : "mac", "importe": 1000},{"id": 2, "concepto" : "iphone", "importe": 700}];
        $scope.addFactura =function()
        {
            $scope.listaFacturas.push({"id": 3, "concepto" : "nexus", "importe": 300});
        };
        $scope.calcularIva=function(factura){
          return factura.importe * 1.21;
        };
        $scope.removeFactura=function(factura) {
          $scope.listaFacturas = $scope.listaFacturas.filter(function(f){
            return f!==factura;
          });
        };

        $scope.addFactura = function() {
          $scope.listaFacturas.push($scope.nuevaFactura);
        };
      });

    </script>
  </head>
  <body ng-controller="controladorFactura">

    <form>
      <p>
        Id:<input type="text" ng-model="nuevaFactura.id"/>
      </p>

      <p>
        Concepto:<input type="text" ng-model="nuevaFactura.concepto"/>
      </p>

      <p>
        Importe:<input type="text" ng-model="nuevaFactura.importe"/>
      </p>
      <input type="button" ng-click="addFactura()" value="Nueva Factura" />
    </form>
    <table>
      <tr ng-repeat="factura in listaFacturas">
        <td>{{$index+1}}</td>
        <td>{{factura.id}}</td>
        <td>{{factura.concepto}}</td>
        <td>{{factura.importe}}</td>
        <td>{{calcularIva(factura)}}</td>
        <td> <input type="button" ng-click="removeFactura(factura)" value="Borrar"/></td>
      </tr>
</table>
<input type="button" ng-click="addFactura()" value="nuevo"/>
</body>
</html>
